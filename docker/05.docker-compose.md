# 형냐들 나만 불편해?
두 번째 형냐들이다. 사실 불편한 것들이 많기 때문이다.

# Docker의 용도
Docker를 어떤 때에 사용한다고 했는가?

Docker의 핵심 기술인 Container를 사용하고자 할 때일 것이다. 
> 즉, 재사용을 위함이다.

앞서 배운 `Dockerfile`은 컨테이너를 만드는데에 필요한 많은 부분을 자동화하였다.

그러나 `Dockerfile`에도 단점이 있다.

[이전 포스팅](/docs/docker/04.dockerfile/)에서도 다루었듯, Host OS의 설정을 자동화 하는데 제한이 있다는 부분이었다.

예를 들어 Host OS의 포트포워딩이나, Volume의 Path를 마운팅하는 것까지 미치진 못하였다.

결국 많은 개발자들은 `Dockerfile`을 만들고, 

`build`를 통해 만들어진 컨테이너를 서로 연결하고, 

`volume`를 마운트시켜주었어야 했다.

# Docker Compose
Docker Compose는 위의 에로사항을 해결한다. 

`docker-compose.yml`에 정의할 수 있는 내역에는 `volume`, `port`, `env` 뿐 아니라 컨테이너를 정의하는 다양한 작업을 수행할 수 있도록 하고 있다.

또한 단일 컨테이너 뿐 아니라, **다중 컨테이너를 정의하고, 컨테이너 간 관계를 설정할 수도 있도록 지원**하고 있다.

## `.yml`, `.yaml`
Docker Compose에 대해 알아보기 전에 알아두어야 할 것이 있다. 

앞서 docker-compose.yml에 다중 컨테이너에 내릴 명령어를 설정할 수 있다고 피력하였다. 

그렇다면, yml파일은 무엇인가? 

yml, yaml 확장자가 붙은 파일은 Yet Another Markup Language 라고 하는 일종의 마크업 언어의 한 형태이다.

마치 파이썬 처럼 콜론과 들여쓰기를 통해 계층을 형성하고, 특정 객체, 설정값 등을 쉽게 작성할 수 있다.

직관적으로 이해를 하기 위해 아래의 예를 살펴보자.
```yaml
car:
  name: "bus"
  color: "red"
  door: 4
  capability:
    max_weight: "4T"
    human: 10
  customers:
    - name: "Alice"
      age: 14
    - name: "Ban"
      age: 16
    - name: "Yang"
      age: 26
```

해당 형태의 yaml은 아래와 같은 JSON 형식으로도 표현이 가능하다.

```json
{
  "car": {
    "name": "bus",
    "color": "red",
    "door": 4,
    "capability": {
      "max_weight": "4T",
      
    }
  }
}
```

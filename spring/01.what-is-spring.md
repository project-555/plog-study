# Spring이란 무엇일까?

Spring의 사상과 가치, 적용된 원칙에 대해 알아보는 것이 앞으로 공부하는데 도움이 될 것이라고 생각해서 이 부분을 먼저 공부해보려고 한다.   

~~하지만 아마 필요한 API 사용법 위주의 공부로 변질될 예정이다~~

그렇다면 Spring을 한 줄로 정의하면 어떻게 될까?  



## Spring의 정의

가장 잘 알려진 정의는 다음과 같다고 한다.  

> 자바 엔터프라이즈 개발을 편하게 해주는 오픈소스 경량급 애플리케이션 프레임워크

뭔가 킹갓제네럴어쩌구 이런말 같아보이지만 Spring의 다양한 특징을 담았다고 하니 자세히 뜯어보자.  

1. **자바 엔터프라이즈 개발을 편하게**

   일단 엔터프라이즈 개발이라는건 엔터프라이즈 환경을 개발하는 것을 의미하는데, 수많은 데이터 처리와 트랜잭션이 동시에 여러 사용자로부터 행해지는 매우 큰 규모의 환경을 엔터프라이즈 환경이라고 한다.  

   Spring이전에도 EJB와 같은 자바 엔터프라이즈가 있었고 그들도 모두 이와 같은 문구를 사용했지만 Spring이 내세우는건 차원이 다르다.  

   ![image](https://user-images.githubusercontent.com/55227276/178924219-3439e869-43fd-4bf6-95e9-876a73cc61aa.png)

   EJB의 경우 로우 레벨 기술에 많은 신경을 쓰지 않아도 되도록 많은 기술을 제공하였는데, 이 때문에 EJB라는 더 큰 복잡함을 떠안아야하는 문제가 생겼다.  

   Spring은 애플리케이션 개발자들이 Spring이라는 프레임워크가 제공하는 기술이 아니라 자신이 작성하는 애플리케이션 로직에 많은 관심을 갖게 한다.  초기에 기본 설정과 적용 기술만 잘 선택한다면 개발 중에는 Spring관련 코드나 API에 대해 개발자가 신경을 쓸일이 없어진다.  

2. **오픈소스**

   Spring은 오픈소스 프로젝트 방식으로 개발되어왔으며 현재까지도 그렇다.(Apache 2.0 라이센스를 따름)  

   오픈소스이기 때문에 누구나 얼마든지 자유롭게 이용할 수 있다는 강력한 장점이 있지만,  지속적이고 안정적인 개발이 되지 않을 수 있다는 단점도 있다.  

   그러나 Spring의 경우 전문 기업이 있으며, VM Ware에 합병되어 안정적인 환경과 지원을 받고 있어 단점을 극복한 성공적인 오픈소스 소프트웨어가 되었다.

3. **경량급**

   Spring이 가볍다는 이야기를 많이하는데, 사실 Spring 자체는 굉장히 복잡하고 방대한 규모의 프레임워크이다. 가볍다는 뜻은 불필요한 무거움이 없다는 뜻이다.  

   이미 한 번 비교했던 EJB와 비교해보자면, EJB는 기술에 대한 과도한 욕심으로 모든 코드를 매우 무겁게 만들었고, 따라서 실행하기 위해 고가의 자바 서버(WAS)가 필요했으며 툴의 도움 없이는 설정조차 어려웠다.  

   그에 반해 Spring은 가장 단순한 서버환경인 Tomcat이나 Jetty에서도 완벽하게 동작하면서도 EJB에서는 고가의 WAS를 갖춰야만 사용할 수 있었던 기능들을 대부분 사용할 수 있다.  

   이렇게 Spring이 가벼울 수 있는 이유는 EJB등에서 코드에 불필요하게 등장하던 프레임워크와 서버환경에 의존적이었던 부분들이 모두 제거되었기 때문이다.  

   즉, Spring이 가볍다는 말은 만들어진 코드의 기술수준이 가볍다는 것이 아니라, 높은 기술수준을 지원하면서도 빠르고 간편하게 작성할 수 있어 생산성과 품질에서 유리하다는 말이다.  

4. **애플리케이션 프레임워크**

   일단 프레임워크에 대해 알아보자면 어떤 목적을 달성하기 위해 복잡하게 얽혀있는 문제를 해결하기 위한 구조이자 약속이다. 즉, 소프트웨어 개발에 있어 필요한 라이브러리와 기능구현에 필요한 설계도까지 제공하는 뼈대라고 생각하면 된다.  따라서 대부분 프레임워크는 애플리케이션의 특정 계층에서 주로 동작하는 한가지 기술 분야에 집중되기 마련이다.  

   한 가지 집중해야할 것은 Spring은 프레임워크가 아닌 애플리케이션 프레임워크라는 것이다.  

   애플리케이션 프레임워크는 특정 계층이나 기술, 업무 분야에 국한되지 않고 애플리케이션 전 영역을 포괄하는 범용적인 프레임워크를 말한다.  

   Spring의 기원이 된 책에서 자바 엔터프라이즈 개발의 전 계층에 등장하는 기술과 애플리케이션 전 영역에 대한 설계 및 개발기법을 다루고있는데, Spring은 이 예제에서 시작되어 자연스럽게 애플리케이션 프레임워크가 되었다.  

   ![image](https://user-images.githubusercontent.com/55227276/178930133-0212a917-9d17-4b91-914f-87781740e478.png)

   Spring이 애플리케이션 프레임워크라 불리는 이유는 단순히 여러 기술이나 업무분야의 것들을 모아두어서는 아니다.  애플리케이션의 전 영역을 관통하는 일관된 프로그래밍 모델과 핵심기술을 바탕으로 각 분야의 특정에 맞는 필요를 채워주고 있기 때문이다.  

   애플리케이션 프레임워크는 개발의 전 과정을 빠르고 편리하고 효율적이게 진행하는 것을 목표로한다.  



## Spring의 목적

~~사실 참고한 블로그 글이 너무 길어서 그만읽고 싶었는데~~ Spring의 목적은 Spring의 주요 특징과 연결된다.  

Spring의 목적은 엔터프라이즈 개발을 편리하게 하는 데 있다.  하지만 원래 엔터프라이즈 개발이라는건 편하지 않다.  

2000년대 초반까지 자바 엔터프라이즈 프로젝트의 80%가 실패하면서 이 이유를 많이 조사하였는데, 가장 큰 원인은 **엔터프라이즈 시스템이 너무 복잡해서**였다고 한다.  

이런 복잡함이 가중되는 근본적인 이유는 **비지니스 로직과 엔터프라이즈 기술이 얽혀있기 때문**이다.  

계속 언급되고 있는 EJB도 이를 분리하고자 하였고 일부는 성공하였지만, EJB라는 환경과 스펙에 종속되도록 하면서(침투적 기술 사용) 결국 실패한 해결책이 되었다.  

따라서 Spring은 `비침투적인 방식(non-invasive)`을 택했다.  

비침투적인 기술은 기술의 적용 사실이 코드에 직접 반영되지 않기 때문에, 코드의 설계와 구현 방식을 제한하지 않는다.  

Spring을 이용하면 기술적인 복잡함과 비지니스 로직을 다루는 코드를 깔끔하게 분리할 수 있다.  



## Spring의 특징

그렇다면 Spring은 기술적인 복잡함과 비지니스 로직의 복잡함을 어떻게 상대하였을까?

### 추상화

기술적인 복잡함에서 일관성 없는 기술과 서버 환경에 대응하기 위해 Spring은 서비스 `추상화`를 시켰다.  

추상화를 통해 로우 레벨의 기술 구현 부분과 기술을 사용하는 인터페이스 부분을 분리하였고,  환경과 세부 기술에 독립적인 접근 인터페이스를 제공했다.  

### AOP

아무리 책임에 따라 계층을 구분하고, 의존적인 인터페이스나 예외처리를 최대한 제거한다고 하더라도 엔터프라이즈 서비스를 적용하는 한 이런 기술과 비지니스 로직의 혼재는 쉽게 해결할 수 없다.  

그러나 이를 최대한 해결하기 위해 Spring은 `AOP(Aspect Object Programming, 관점 지향 프로그래밍)`을 적용했다.  

AOP는 최후의 애플리케이션 로직을 담당하는 코드에 남아있는 기술 관련 코드를 깔끔하게 분리해서 별도의 모듈로 관리하게 해주는 기술이다.  

기술적인 코드의 중복을 줄여주기 때문에, 복잡함이 불필요하게 증대되지 않도록 해준다.  

### 객체지향과 DI

추상화와 AOP로 기술적인 복잡함들을 어느정도 해결하고 나면 순수하게 애플리케이션 주요 기능과 비지니스 로직을 담은 코드들이 남게 된다.  

비지니스 로직을 다루는 핵심 코드는 오류가 있으면 치명적인 손실을 끼칠 수 있게 되는데,  과거에는 이 비지니스 로직을 DB에 두는 것이 유행이었다고 한다. 그러나 이는 엔터프라이즈 시스템이 커질수록 개발과 유지보수, 테스트가 어렵게 된다.  

`객체지향` 언어의 장점을 잘 살리면 비지니스 로직의 복잡함을 최대한 효과적으로 다룰 수 있도록 할 수 있다.  

Spring에서는 Java라는 객체지향 언어의 장점을 제대로 살리지 못하게 했던 요소를 제거해 제공함으로써 비지니스 로직의 복잡함을 해결했다.(Spring의 모토인 **기본으로 돌아가자**와도 일맥상통)  

그리고 `DI(Dependency Injection, 의존성 주입)`은 객체지향적인 설계와 개발을 하도록 이끌어준다.  

DI는 구성요소 간의 의존관계가 소스코드 내부가 아닌 외부 설정파일을 통해 정의되는 방식인데, 이는 이미 살펴본 추상화나 AOP와 같은 기술에 없어서는 안되는 것이기도 하다.  

### IoC

엔터프라이즈 개발은 규모가 매우 크기 때문에 객체와 자원을 이용하는 방법이 더욱 복잡해진다.  

따라서 이를 제어하는 것이 매우 중요한데, 이와 관련된 것이 바로 `IoC(Inversion of Control, 제어반전)`이다.  

Java언어에서 객체를 생성하고 소멸시키는데 있어서 그 제어권을 개발자가 아닌 컨테이너에게 주는 것인데,  

컨테이너가 직접 개발자의 코드를 호출하고, 그 코드로 생명 주기를 제어하면서 객체와 자원 이용이 꼬이는 것을 방지하는 것이다.  

### POJO 프로그래밍

`POJO(Plain Old Java Object) 프로그래밍`은 Spring의 핵심인데, 잘 알려진 Spring 삼각형에서도 알 수 있다. 

![image](https://user-images.githubusercontent.com/55227276/178941707-f60f27f1-8a3e-4a05-bff5-f7da1c52b5c1.png)

Spring의 주요 기술로 불리는 IoC/DI, AOP, PSA는 애플리케이션을 POJO로 개발할 수 있게 해주는 기능 기술이라고 불린다. 

POJO는 풀네임에서도 알 수 있듯이 그냥 **간단한 자바 오브젝트를 사용**하는 것을 말한다. ~~(있어보이고싶어서 이렇게 이름지었다고 한다...ㅎ)~~  

POJO라고 불리기 위해서는 다음과 같은 세 가지 조건을 충족해야한다.  

1. 특정 규약(Contract)에 종속되지 않는다.

   Java 언어와 꼭 필요한 API 외에 종속되지 않아야 한다. 즉, 특정 규약을 따라 비지니스 컴포넌트를 만들어야하는 경우는 여기에 위배된다. (영원히 고통받는 EJB2..)

2. 특정 환경에 종속되지 않는다.

   특정 환경에 종속적이어야만 object가 동작하지 않아야 한다. 의존 object정보를 다른 서버 서비스를 통해 가져와야하는 경우는 여기에 위배된다. (영원히 고통받는 EJB3...)

3. **객체지향적인 Java 언어의 기본에 충실하게 만들어져야한다.**

   가장 중요한 부분인데, 평범히 Java 클래스를 써서 개발했다고 POJO가 될 수는 없다는 것이 요지이다.  Java 언어 문법을 사용했다는 것이 객체지향 프로그래밍과 객체지향 설계를 적용했다고 볼 수 없기 때문이다.

즉, 진정한 POJO란 **객체지향적인 원리에 충실하면서, 환경과 기술에 종속되지 않고 필요에 따라 재활용될 수 있는 방식으로 설계된 object를 말한다.**   

그리고 **POJO에 애플리케이션의 핵심 로직과 기능을 담아 설계하고 개발하는 방법**이 POJO 프로그래밍이다.  





## Reference 

- https://12bme.tistory.com/157
- http://egloos.zum.com/boologoo/v/6648045
- https://www.jiniaslog.co.kr/article/view?articleId=356
- https://jerryjerryjerry.tistory.com/62